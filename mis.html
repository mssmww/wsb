<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>北京交通大学MIS系统访问量统计</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #00447c, #0066b3);
            color: white;
            padding: 25px 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .subtitle {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .stats-overview {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            padding: 20px;
            background-color: #f0f5ff;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 15px 20px;
            margin: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            text-align: center;
            flex: 1;
            min-width: 200px;
        }
        
        .stat-card h3 {
            color: #666;
            font-size: 14px;
            margin-bottom: 8px;
        }
        
        .stat-card .value {
            font-size: 28px;
            font-weight: bold;
            color: #00447c;
        }
        
        .stat-card .change {
            font-size: 14px;
            margin-top: 5px;
        }
        
        .change.positive {
            color: #28a745;
        }
        
        .change.negative {
            color: #dc3545;
        }
        
        .chart-container {
            padding: 20px;
        }
        
        .chart-row {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .chart-box {
            flex: 1;
            min-width: 300px;
            margin: 10px;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .chart-title {
            font-size: 18px;
            margin-bottom: 15px;
            color: #00447c;
            text-align: center;
            font-weight: bold;
        }
        
        .time-selector {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .time-btn {
            padding: 8px 16px;
            margin: 0 5px;
            background: #e9ecef;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .time-btn.active {
            background: #00447c;
            color: white;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 14px;
            border-top: 1px solid #e0e0e0;
            background-color: #f8f9fa;
        }
        
        @media (max-width: 768px) {
            .chart-row {
                flex-direction: column;
            }
            
            .chart-box {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>北京交通大学MIS系统访问量统计</h1>
            <p class="subtitle">监控与数据分析平台</p>
        </header>
        
        <div class="stats-overview">
            <div class="stat-card">
                <h3>今日访问量</h3>
                <div class="value">12,845</div>
                <div class="change positive">↑ 8.5% 较昨日</div>
            </div>
            <div class="stat-card">
                <h3>本周访问量</h3>
                <div class="value">78,632</div>
                <div class="change positive">↑ 5.2% 较上周</div>
            </div>
            <div class="stat-card">
                <h3>本月访问量</h3>
                <div class="value">312,457</div>
                <div class="change positive">↑ 12.3% 较上月</div>
            </div>
            <div class="stat-card">
                <h3>平均访问时长</h3>
                <div class="value">8分32秒</div>
                <div class="change negative">↓ 1.2% 较上月</div>
            </div>
        </div>
        
        <div class="time-selector">
            <button class="time-btn active" data-period="day">日视图</button>
            <button class="time-btn" data-period="week">周视图</button>
            <button class="time-btn" data-period="month">月视图</button>
            <button class="time-btn" data-period="year">年视图</button>
        </div>
        
        <div class="chart-container">
            <div class="chart-row">
                <div class="chart-box">
                    <div class="chart-title">访问量趋势</div>
                    <canvas id="trendChart"></canvas>
                </div>
                <div class="chart-box">
                    <div class="chart-title">访问时段分布</div>
                    <canvas id="hourlyChart"></canvas>
                </div>
            </div>
            
            <div class="chart-row">
                <div class="chart-box">
                    <div class="chart-title">用户类型分布</div>
                    <canvas id="userTypeChart"></canvas>
                </div>
                <div class="chart-box">
                    <div class="chart-title">访问来源</div>
                    <canvas id="sourceChart"></canvas>
                </div>
            </div>
        </div>
        
        <footer>
            <p>北京交通大学 信息中心| 数据更新时间: 2023年11月15日 15:30</p>
            <p>© 2023 北京交通大学 MIS系统管理中心</p>
        </footer>
    </div>

    <script>
        // 初始化图表
        document.addEventListener('DOMContentLoaded', function() {
            // 访问量趋势图
            const trendCtx = document.getElementById('trendChart').getContext('2d');
            const trendChart = new Chart(trendCtx, {
                type: 'line',
                data: {
                    labels: ['10月15日', '10月16日', '10月17日', '10月18日', '10月19日', '10月20日', '10月21日'],
                    datasets: [{
                        label: '访问量',
                        data: [11200, 12450, 11800, 13500, 12845, 14200, 13800],
                        borderColor: '#00447c',
                        backgroundColor: 'rgba(0, 68, 124, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: '访问量'
                            }
                        }
                    }
                }
            });
            
            // 时段分布图
            const hourlyCtx = document.getElementById('hourlyChart').getContext('2d');
            const hourlyChart = new Chart(hourlyCtx, {
                type: 'bar',
                data: {
                    labels: ['0-2', '2-4', '4-6', '6-8', '8-10', '10-12', '12-14', '14-16', '16-18', '18-20', '20-22', '22-24'],
                    datasets: [{
                        label: '访问量',
                        data: [120, 80, 150, 850, 2150, 2850, 1950, 2450, 2350, 1850, 1250, 450],
                        backgroundColor: '#0066b3',
                        borderColor: '#00447c',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: '访问量'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: '时间段'
                            }
                        }
                    }
                }
            });
            
            // 用户类型分布图
            const userTypeCtx = document.getElementById('userTypeChart').getContext('2d');
            const userTypeChart = new Chart(userTypeCtx, {
                type: 'doughnut',
                data: {
                    labels: ['本科生', '研究生', '教职工', '行政人员', '访客'],
                    datasets: [{
                        data: [45, 25, 15, 10, 5],
                        backgroundColor: [
                            '#00447c',
                            '#0066b3',
                            '#0088e6',
                            '#33aaff',
                            '#66ccff'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    }
                }
            });
            
            // 访问来源图
            const sourceCtx = document.getElementById('sourceChart').getContext('2d');
            const sourceChart = new Chart(sourceCtx, {
                type: 'pie',
                data: {
                    labels: ['校园网', '移动网络', '校外VPN', '图书馆', '计算机中心'],
                    datasets: [{
                        data: [52, 28, 12, 5, 3],
                        backgroundColor: [
                            '#00447c',
                            '#0066b3',
                            '#0088e6',
                            '#33aaff',
                            '#66ccff'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    }
                }
            });
            
            // 时间选择器功能
            const timeButtons = document.querySelectorAll('.time-btn');
            timeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    timeButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // 这里应该根据选择的时间范围更新图表数据
                    // 实际应用中应该从服务器获取对应时间范围的数据
                    console.log(`切换到${this.dataset.period}视图`);
                });
            });
        });
    </script>
</body>

</html>
